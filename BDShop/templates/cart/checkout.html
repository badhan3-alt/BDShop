{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/check.css' %}">
<div class="checkout-container">

    <h2>Checkout</h2>
<style>
    .checkout-container {
  width: 90%;
  max-width: 900px;
  margin: 40px auto;
}

.checkout-wrapper {
  display: flex;
  gap: 30px;
}

.checkout-form, .checkout-summary {
  background: #f8f8f8;
  padding: 20px;
  border-radius: 8px;
}

.checkout-form {
  flex: 2;
}

.checkout-summary {
  flex: 1;
  height: fit-content;
}

.checkout-form input,
.checkout-form textarea {
  width: 100%;
  padding: 8px;
  margin: 6px 0 15px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.btn-confirm {
  width: 100%;
  padding: 12px;
  background: #1abc9c;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.summary-item,
.summary-total {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

@media(max-width: 768px) {
  .checkout-wrapper {
    flex-direction: column;
  }
}

</style>
    <div class="checkout-wrapper">

        <!-- Billing Form -->
        <div class="checkout-form">
            <form method="POST">
                {% csrf_token %}
                
                <h3>Billing Details</h3>
                <label>Full Name</label>
                <input type="text" name="name" required>

                <label>Email Address</label>
                <input type="email" name="email" required>

                <label>Phone Number</label>
                <input type="text" name="phone" required>

                <label>Shipping Address</label>
                <textarea name="address" rows="3" required></textarea>

                <button type="submit" class="btn-confirm">Confirm Order</button>
            </form>
        </div>

        <!-- Order Summary -->
        <div class="checkout-summary">
            <h3>Order Summary</h3>

            {% if cart_items %}
                {% for item in cart_items %}
                <div class="summary-item">
                    <span>{{ item.product.name }} (x{{ item.quantity }})</span>
                    <span>${{ item.total_price|floatformat:2 }}</span>
                </div>
                {% endfor %}

                <hr>

                <div class="summary-total">
                    <strong>Total:</strong>
                    <strong>${{ total|floatformat:2 }}</strong>
                </div>
            {% else %}
                <p>Your cart is empty.</p>
            {% endif %}

        </div>

    </div>
</div>
{% endblock %}
